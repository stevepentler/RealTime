<!doctype html>
<html lang="en">
  <head>
    <title>State Your Preference</title>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.97.2/css/materialize.min.css">
    <link rel="stylesheet" href="/stylesheets/style.css">
  </head>
  <main>
    <body class="center">
      <h3>State Your Preference</h3>
      <h5 id="connection-count"></h5>

    <div class="row center">
      <form action="/" method="POST" name="survey" id="survey-form" class="col s6 offset-s3">
        <div class="row">
          <div class="input-field">
            <label for="survey[question]">Question</label>
            <input name="survey[question]" type="text">
          </div>
        </div>
        <div class="options-list">
          <div class="row">
            <div class="input-field">
              <label for="survey[options][]">Option 1</label>
              <input name="survey[options][]" type="text">
            </div>
          </div>
          <div class="row">
            <div class="input-field">
              <label for="survey[options][]">Option 2</label>
              <input name="survey[options][]" type="text">
            </div>
          </div>
        </div>
        <button type="button" onClick="addOption()" class="btn">Add Option</button>
        <br><br>
        <div class='row'>
          <div>
            <label for='survey[date-selector]'>Optional Expiration Date</label>
            <input name="survey[date-selector]" type="date" class="datepicker">
          </div>
          <div>
            <label for='survey[time-selector]'>Optional Expiration time</label>
            <input name="survey[time-selector]" type="time" class="datepicker">
          </div>

        </div>
        <input type="submit" class="btn">
      </form>
    </div>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.2.1/jquery.js"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.97.2/js/materialize.min.js"></script>
      <script src="/socket.io/socket.io.js"></script>
      <script src="/client.js"></script>
    </body>
  </main>

  <script type="text/javascript">
    "use strict";
    let optionCounter = 3;
    function addOption() {
      $('.options-list').append(
          `<div class="row">
            <div class="input-field">
              <label for="survey[options][]">Option ${optionCounter}</label>
              <input name="survey[options][]" type="text">
            </div>
          </div>`
      )
    optionCounter += 1;
    }
  </script>

</html>